---
mode: agent
---
Generate unit tests using the pytest framework.
The unit tests should cover all critical functions and edge cases. Create new unit test for each scenario.
Whenever possible, use mocking or test doubles to isolate the unit being tested. If there are already existing mocks or test doubles in the codebase, reuse them.
Do not duplicate tests that already exist.
Ensure that the tests are clear, concise, and maintainable.